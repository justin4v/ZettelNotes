/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

/*
    Privacy Glasses plugin for Obsidian
    Copyright 2021 Jill Alberts
    Licensed under the MIT License (http://opensource.org/licenses/MIT)
*/
class PrivacyGlassesPlugin extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.privacyGlasses = false;
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.statusBar = this.addStatusBarItem();
            yield this.loadSettings();
            this.addSettingTab(new privacyGlassesSettingTab(this.app, this));
            obsidian.addIcon('glasses', privacyGlassesIcon);
            this.addRibbonIcon('glasses', 'Toggle Privacy Glasses', () => {
                this.toggleGlasses();
            });
            this.addCommand({
                id: 'toggle-privacy-glasses',
                name: 'Toggle Privacy Glasses',
                callback: () => {
                    this.toggleGlasses();
                }
            });
            this.privacyGlasses = true; // we do not want to automatically activate the plugin upon vault open or initial plugin activation, 
            // so we temporarily set it to true just until it quickly gets flipped to false in toggleGlasses() on the next line
            yield this.toggleGlasses(true); // flips this.privacyGlasses to false and updates statusbar. 'true' means do toggle quietly (do not display a Notice)
        });
    }
    toggleGlasses(quiet = false) {
        return __awaiter(this, void 0, void 0, function* () {
            this.privacyGlasses = !this.privacyGlasses;
            let pgOnMsg = 'Privacy Glasses On';
            let pgOffMsg = 'Privacy Glasses Off';
            if (!quiet) {
                this.noticeMsg = new obsidian.Notice(this.privacyGlasses ? pgOnMsg : pgOffMsg, 2000);
            }
            this.statusBar.setText(this.privacyGlasses ? pgOnMsg : pgOffMsg);
            if (this.privacyGlasses) {
                this.addBlurLevelEl();
            }
            else {
                this.removeBlurLevelEl();
            }
            this.refresh(false); // false = no settings changes to save
        });
    }
    refresh(saveIt) {
        return __awaiter(this, void 0, void 0, function* () {
            this.updateStyle();
            if (saveIt) {
                yield this.saveSettings();
            }
        });
    }
    onunload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.removeCssClasses();
            this.removeBlurLevelEl();
            this.statusBar.remove();
            yield this.saveSettings();
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign(DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    updateStyle() {
        this.removeCssClasses();
        if (this.privacyGlasses) {
            this.updateBlurLevelEl();
            document.body.classList.add('privacy-glasses');
            if (this.settings.uiBlurMethod == 'blurUI') {
                document.body.classList.add('blur-ui');
            }
            if (this.settings.uiBlurMethod == 'blockUI') {
                document.body.classList.add('block-ui');
            }
            if (this.settings.uiBlurMethod == 'circlesUI') {
                document.body.classList.add('circles-ui');
            }
            if (this.settings.editBlurMethod == 'blurEdit') {
                document.body.classList.add('blur-edit');
            }
            if (this.settings.editBlurMethod == 'blockEdit') {
                document.body.classList.add('block-edit');
            }
            if (this.settings.editBlurMethod == 'circlesEdit') {
                document.body.classList.add('circles-edit');
            }
            if (this.settings.previewBlurMethod == 'blurPreview') {
                document.body.classList.add('blur-preview');
            }
            if (this.settings.previewBlurMethod == 'blockPreview') {
                document.body.classList.add('block-preview');
            }
            if (this.settings.previewBlurMethod == 'circlesPreview') {
                document.body.classList.add('circles-preview');
            }
        }
    }
    addBlurLevelEl() {
        this.blurLevelStyleEl = document.createElement('style');
        this.blurLevelStyleEl.id = 'privacyGlassesBlurLevel';
        document.head.appendChild(this.blurLevelStyleEl);
        this.updateBlurLevelEl();
    }
    updateBlurLevelEl() {
        this.blurLevelStyleEl.textContent = `body {--blurLevel:${this.settings.blurLevel}em};`;
    }
    removeBlurLevelEl() {
        if (this.blurLevelStyleEl) {
            this.blurLevelStyleEl.remove();
        }
    }
    removeCssClasses() {
        document.body.removeClass('privacy-glasses', 'blur-ui', 'block-ui', 'circles-ui', 'blur-edit', 'block-edit', 'circles-edit', 'blur-preview', 'block-preview', 'circles-preview');
    }
}
const DEFAULT_SETTINGS = {
    privacyGlasses: false,
    blurLevel: 0.6,
    editBlurMethod: 'blurEdit',
    previewBlurMethod: 'blurPreview',
    uiBlurMethod: 'blurUI'
};
class privacyGlassesSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h3', { text: 'Privacy Glasses v' + this.plugin.manifest.version });
        containerEl.createEl('a', { text: 'https://github.com/jillalberts/privacy-glasses', href: "https://github.com/jillalberts/privacy-glasses" });
        containerEl.createEl('span', { text: ': documentation, report issues, contact info' });
        containerEl.createEl('br');
        containerEl.createEl('a', { text: 'https://www.buymeacoffee.com/jillalberts', href: "https://www.buymeacoffee.com/jillalberts" });
        containerEl.createEl('span', { text: ': tip jar' });
        containerEl.createEl('p', { text: 'To activate/deactivate Privacy Glasses, click the glasses icon on the left-hand ribbon or run the "Toggle Privacy Glasses" command in the Command Palette (Ctrl-P). The command can also be bound to a keyboard shortcut if you wish.' });
        containerEl.createEl('p', { text: 'Experimental settings that don\'t always work as well as you might like are marked with a "⚠️". They are safe to use but can behave in annoying ways.' });
        new obsidian.Setting(containerEl)
            .setName('Privacy Glasses Activated')
            .setDesc('Indicates whether or not the plugin is currently activated.')
            .addToggle((toggle) => {
            toggle.setValue(this.plugin.privacyGlasses);
            toggle.onChange((value) => __awaiter(this, void 0, void 0, function* () {
                yield this.plugin.toggleGlasses();
            }));
        });
        var sliderEl = new obsidian.Setting(containerEl);
        let sliderElDesc = 'Higher is blurrier. Default=60, current=';
        sliderEl
            .setName('Blur Level (only affects elements for which "Blurry Text" is selected below)')
            .setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100))
            // ^ need rounding to not show values like '55.00000000000001'
            .addSlider(slider => slider
            .setLimits(0.1, 1.5, 0.05)
            .setValue(this.plugin.settings.blurLevel)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.blurLevel = value;
            sliderEl.setDesc(sliderElDesc + Math.round(this.plugin.settings.blurLevel * 100));
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Edit Mode')
            .setDesc('How to obfuscate the document\'s text in Edit Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurEdit', 'Blurry Text')
            .addOption('blockEdit', 'Solid Blocks')
            .addOption('circlesEdit', 'Circles ⚠️')
            .setValue(this.plugin.settings.editBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.editBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Preview Mode')
            .setDesc('How to obfuscate the document\'s text in Preview Mode')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurPreview', 'Blurry Text')
            .addOption('blockPreview', 'Solid Blocks ⚠️')
            .addOption('circlesPreview', 'Circles ⚠️')
            .setValue(this.plugin.settings.previewBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.previewBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
        new obsidian.Setting(containerEl)
            .setName('Obfuscation method for Sidebars')
            .setDesc('How to obfuscate your file list, tags, outline, etc in Obsidian\'s sidebars')
            .addDropdown(dropdown => dropdown
            .addOption('', '[Off]')
            .addOption('blurUI', 'Blurry Text')
            .addOption('blockUI', 'Solid Blocks')
            .addOption('circlesUI', 'Circles')
            .setValue(this.plugin.settings.uiBlurMethod)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.uiBlurMethod = value;
            yield this.plugin.refresh(true);
        })));
    }
}
const privacyGlassesIcon = `<path style=" stroke:none;fill-rule:nonzero;fill:currentColor;fill-opacity:1;" d="M 18.242188 7.664062 C 15.429688 7.84375 12.015625 8.40625 6.914062 9.53125 C 6.140625 9.703125 4.328125 10.070312 2.890625 10.359375 C 1.453125 10.648438 0.234375 10.890625 0.1875 10.90625 C 0.0703125 10.929688 -0.0390625 13.554688 0.0234375 14.570312 C 0.125 16.132812 0.375 16.703125 1.5 17.992188 C 3.414062 20.1875 3.726562 20.710938 4.171875 22.539062 C 5.171875 26.609375 6.757812 31.226562 8.429688 34.914062 C 9.46875 37.21875 10.859375 38.625 13.398438 39.929688 C 17.726562 42.164062 23.382812 42.898438 29.453125 42.03125 C 33.164062 41.492188 36.179688 39.9375 38.867188 37.179688 C 40.78125 35.210938 42.304688 32.976562 43.945312 29.726562 C 44.78125 28.078125 45.03125 27.40625 45.664062 25.039062 C 46.179688 23.125 46.445312 22.335938 46.921875 21.367188 C 47.59375 19.96875 48 19.679688 49.335938 19.625 C 49.765625 19.609375 50.59375 19.632812 51.171875 19.671875 C 52.429688 19.757812 52.664062 19.851562 53.289062 20.523438 C 54.109375 21.414062 54.625 22.492188 55.304688 24.75 C 56.984375 30.34375 59.09375 34.21875 61.960938 36.992188 C 63.320312 38.304688 64.382812 39.0625 66.007812 39.875 C 69.179688 41.46875 72.679688 42.265625 76.523438 42.265625 C 83.632812 42.265625 89.484375 39.320312 92.46875 34.242188 C 93.53125 32.445312 94.09375 30.851562 95.234375 26.40625 C 96.570312 21.203125 96.90625 20.203125 97.734375 18.984375 C 98.085938 18.46875 98.71875 17.867188 99.273438 17.515625 C 99.960938 17.078125 99.960938 17.085938 99.945312 14.21875 C 99.945312 13.554688 99.945312 12.742188 99.953125 12.421875 C 99.96875 11.34375 99.609375 11.039062 97.945312 10.734375 C 96.609375 10.484375 95.679688 10.265625 93.476562 9.65625 C 90.921875 8.945312 90.515625 8.851562 88.367188 8.515625 C 83.03125 7.671875 81.625 7.539062 78.757812 7.601562 C 74.945312 7.6875 72.304688 8.0625 64.492188 9.609375 C 59.21875 10.65625 57.03125 11.023438 54.507812 11.289062 C 52.570312 11.492188 50.179688 11.570312 48.46875 11.484375 C 45.40625 11.335938 43.914062 11.109375 39.257812 10.078125 C 34.960938 9.125 34.09375 8.960938 31.203125 8.554688 C 25.0625 7.703125 21.523438 7.460938 18.242188 7.664062 Z M 18.242188 7.664062 "/>`;

module.exports = PrivacyGlassesPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm1haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG4iLCIvKiBcdFxyXG5cdFByaXZhY3kgR2xhc3NlcyBwbHVnaW4gZm9yIE9ic2lkaWFuXHJcblx0Q29weXJpZ2h0IDIwMjEgSmlsbCBBbGJlcnRzXHJcblx0TGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUKSBcclxuKi9cclxuXHJcbmltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBhZGRJY29uLCBUb2dnbGVDb21wb25lbnQsIE5vdGljZX0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpdmFjeUdsYXNzZXNQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuXHRzZXR0aW5nczogUHJpdmFjeUdsYXNzZXNTZXR0aW5ncztcclxuXHRzdGF0dXNCYXI6IEhUTUxFbGVtZW50O1xyXG5cdG5vdGljZU1zZzogTm90aWNlO1xyXG5cdGJsdXJMZXZlbFN0eWxlRWw6IEhUTUxFbGVtZW50O1xyXG5cdHByaXZhY3lHbGFzc2VzOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuICAgICAgICBcdFx0XHJcblx0XHR0aGlzLnN0YXR1c0JhciA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xyXG5cclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBwcml2YWN5R2xhc3Nlc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHRhZGRJY29uKCdnbGFzc2VzJywgcHJpdmFjeUdsYXNzZXNJY29uKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKCdnbGFzc2VzJywgJ1RvZ2dsZSBQcml2YWN5IEdsYXNzZXMnLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMudG9nZ2xlR2xhc3NlcygpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICd0b2dnbGUtcHJpdmFjeS1nbGFzc2VzJywgXHJcblx0XHRcdG5hbWU6ICdUb2dnbGUgUHJpdmFjeSBHbGFzc2VzJyxcclxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZUdsYXNzZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5wcml2YWN5R2xhc3NlcyA9IHRydWU7XHQvLyB3ZSBkbyBub3Qgd2FudCB0byBhdXRvbWF0aWNhbGx5IGFjdGl2YXRlIHRoZSBwbHVnaW4gdXBvbiB2YXVsdCBvcGVuIG9yIGluaXRpYWwgcGx1Z2luIGFjdGl2YXRpb24sIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBzbyB3ZSB0ZW1wb3JhcmlseSBzZXQgaXQgdG8gdHJ1ZSBqdXN0IHVudGlsIGl0IHF1aWNrbHkgZ2V0cyBmbGlwcGVkIHRvIGZhbHNlIGluIHRvZ2dsZUdsYXNzZXMoKSBvbiB0aGUgbmV4dCBsaW5lXHJcblx0XHRhd2FpdCB0aGlzLnRvZ2dsZUdsYXNzZXModHJ1ZSk7IC8vIGZsaXBzIHRoaXMucHJpdmFjeUdsYXNzZXMgdG8gZmFsc2UgYW5kIHVwZGF0ZXMgc3RhdHVzYmFyLiAndHJ1ZScgbWVhbnMgZG8gdG9nZ2xlIHF1aWV0bHkgKGRvIG5vdCBkaXNwbGF5IGEgTm90aWNlKVxyXG5cdH1cclxuXHJcblx0YXN5bmMgdG9nZ2xlR2xhc3NlcyhxdWlldDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcblxyXG5cdFx0dGhpcy5wcml2YWN5R2xhc3NlcyA9ICF0aGlzLnByaXZhY3lHbGFzc2VzO1xyXG5cdFx0XHJcblx0XHRsZXQgcGdPbk1zZyA9ICdQcml2YWN5IEdsYXNzZXMgT24nO1xyXG5cdFx0bGV0IHBnT2ZmTXNnID0gJ1ByaXZhY3kgR2xhc3NlcyBPZmYnO1xyXG5cdFx0aWYgKCFxdWlldCkge1xyXG5cdFx0XHR0aGlzLm5vdGljZU1zZyA9IG5ldyBOb3RpY2UodGhpcy5wcml2YWN5R2xhc3NlcyA/IHBnT25Nc2cgOiBwZ09mZk1zZywgMjAwMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdGF0dXNCYXIuc2V0VGV4dCh0aGlzLnByaXZhY3lHbGFzc2VzID8gcGdPbk1zZyA6IHBnT2ZmTXNnKTtcclxuXHJcblx0XHRpZiAodGhpcy5wcml2YWN5R2xhc3Nlcykge1xyXG5cdFx0XHR0aGlzLmFkZEJsdXJMZXZlbEVsKCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy5yZW1vdmVCbHVyTGV2ZWxFbCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVmcmVzaChmYWxzZSk7IC8vIGZhbHNlID0gbm8gc2V0dGluZ3MgY2hhbmdlcyB0byBzYXZlXHJcblx0fVxyXG5cclxuXHRhc3luYyByZWZyZXNoKHNhdmVJdDogYm9vbGVhbikge1xyXG5cclxuXHRcdHRoaXMudXBkYXRlU3R5bGUoKTtcclxuXHRcdGlmIChzYXZlSXQpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIG9udW5sb2FkKCkge1xyXG5cclxuXHRcdHRoaXMucmVtb3ZlQ3NzQ2xhc3NlcygpO1xyXG5cdFx0dGhpcy5yZW1vdmVCbHVyTGV2ZWxFbCgpO1xyXG5cdFx0dGhpcy5zdGF0dXNCYXIucmVtb3ZlKCk7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHRcclxuXHR1cGRhdGVTdHlsZSgpIHtcclxuXHJcblx0XHR0aGlzLnJlbW92ZUNzc0NsYXNzZXMoKTtcclxuXHJcblx0XHRpZiAodGhpcy5wcml2YWN5R2xhc3Nlcykge1xyXG5cclxuXHRcdFx0dGhpcy51cGRhdGVCbHVyTGV2ZWxFbCgpO1xyXG5cclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwcml2YWN5LWdsYXNzZXMnKTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVpQmx1ck1ldGhvZCA9PSAnYmx1clVJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmx1ci11aScpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MudWlCbHVyTWV0aG9kID09ICdibG9ja1VJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnYmxvY2stdWknKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnVpQmx1ck1ldGhvZCA9PSAnY2lyY2xlc1VJJykge2RvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnY2lyY2xlcy11aScpO31cclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kID09ICdibHVyRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2JsdXItZWRpdCcpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZWRpdEJsdXJNZXRob2QgPT0gJ2Jsb2NrRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLWVkaXQnKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kID09ICdjaXJjbGVzRWRpdCcpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZXMtZWRpdCcpO31cclxuXHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kID09ICdibHVyUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2JsdXItcHJldmlldycpO31cclxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MucHJldmlld0JsdXJNZXRob2QgPT0gJ2Jsb2NrUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLXByZXZpZXcnKTt9XHJcblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kID09ICdjaXJjbGVzUHJldmlldycpIHtkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2NpcmNsZXMtcHJldmlldycpO31cclxuXHRcdH1cclxuXHR9XHRcclxuXHJcblx0YWRkQmx1ckxldmVsRWwoKSB7XHJcblxyXG5cdFx0dGhpcy5ibHVyTGV2ZWxTdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuXHRcdHRoaXMuYmx1ckxldmVsU3R5bGVFbC5pZCA9ICdwcml2YWN5R2xhc3Nlc0JsdXJMZXZlbCc7XHJcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuYmx1ckxldmVsU3R5bGVFbCk7XHJcblx0XHR0aGlzLnVwZGF0ZUJsdXJMZXZlbEVsKCk7XHJcblx0fVxyXG5cclxuXHR1cGRhdGVCbHVyTGV2ZWxFbCgpIHtcclxuXHJcblx0XHR0aGlzLmJsdXJMZXZlbFN0eWxlRWwudGV4dENvbnRlbnQgPSBgYm9keSB7LS1ibHVyTGV2ZWw6JHt0aGlzLnNldHRpbmdzLmJsdXJMZXZlbH1lbX07YDtcclxuXHR9XHJcblxyXG5cdHJlbW92ZUJsdXJMZXZlbEVsKCkge1xyXG5cclxuXHRcdGlmICh0aGlzLmJsdXJMZXZlbFN0eWxlRWwpIHtcclxuXHRcdFx0dGhpcy5ibHVyTGV2ZWxTdHlsZUVsLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRyZW1vdmVDc3NDbGFzc2VzKCkge1xyXG5cclxuXHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoXHQncHJpdmFjeS1nbGFzc2VzJyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2JsdXItdWknLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmxvY2stdWknLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnY2lyY2xlcy11aScsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdibHVyLWVkaXQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmxvY2stZWRpdCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCdjaXJjbGVzLWVkaXQnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnYmx1ci1wcmV2aWV3JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0J2Jsb2NrLXByZXZpZXcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQnY2lyY2xlcy1wcmV2aWV3J1xyXG5cdFx0XHRcdFx0XHRcdFx0ICk7XHJcblx0fVxyXG59XHJcblxyXG5pbnRlcmZhY2UgUHJpdmFjeUdsYXNzZXNTZXR0aW5ncyB7XHJcblx0cHJpdmFjeUdsYXNzZXM6IGJvb2xlYW47XHJcblx0Ymx1ckxldmVsOiBudW1iZXI7XHJcblx0ZWRpdEJsdXJNZXRob2Q6IHN0cmluZztcclxuXHRwcmV2aWV3Qmx1ck1ldGhvZDogc3RyaW5nO1xyXG5cdHVpQmx1ck1ldGhvZDogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBQcml2YWN5R2xhc3Nlc1NldHRpbmdzID0ge1xyXG5cdHByaXZhY3lHbGFzc2VzOiBmYWxzZSxcclxuXHRibHVyTGV2ZWw6IDAuNixcclxuXHRlZGl0Qmx1ck1ldGhvZDogJ2JsdXJFZGl0JyxcclxuXHRwcmV2aWV3Qmx1ck1ldGhvZDogJ2JsdXJQcmV2aWV3JyxcclxuXHR1aUJsdXJNZXRob2Q6ICdibHVyVUknXHJcbn1cclxuXHJcbmNsYXNzIHByaXZhY3lHbGFzc2VzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cclxuXHRwbHVnaW46IFByaXZhY3lHbGFzc2VzUGx1Z2luO1xyXG5cdFx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUHJpdmFjeUdsYXNzZXNQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuICBcclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cclxuXHRcdGxldCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHRcclxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ1ByaXZhY3kgR2xhc3NlcyB2JyArIHRoaXMucGx1Z2luLm1hbmlmZXN0LnZlcnNpb259KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdhJywge3RleHQ6ICdodHRwczovL2dpdGh1Yi5jb20vamlsbGFsYmVydHMvcHJpdmFjeS1nbGFzc2VzJywgaHJlZjpcImh0dHBzOi8vZ2l0aHViLmNvbS9qaWxsYWxiZXJ0cy9wcml2YWN5LWdsYXNzZXNcIn0pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ3NwYW4nLCB7dGV4dDogJzogZG9jdW1lbnRhdGlvbiwgcmVwb3J0IGlzc3VlcywgY29udGFjdCBpbmZvJ30pO1xyXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2JyJyk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnYScsIHt0ZXh0OiAnaHR0cHM6Ly93d3cuYnV5bWVhY29mZmVlLmNvbS9qaWxsYWxiZXJ0cycsIGhyZWY6XCJodHRwczovL3d3dy5idXltZWFjb2ZmZWUuY29tL2ppbGxhbGJlcnRzXCJ9KTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdzcGFuJywge3RleHQ6ICc6IHRpcCBqYXInfSk7XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnVG8gYWN0aXZhdGUvZGVhY3RpdmF0ZSBQcml2YWN5IEdsYXNzZXMsIGNsaWNrIHRoZSBnbGFzc2VzIGljb24gb24gdGhlIGxlZnQtaGFuZCByaWJib24gb3IgcnVuIHRoZSBcIlRvZ2dsZSBQcml2YWN5IEdsYXNzZXNcIiBjb21tYW5kIGluIHRoZSBDb21tYW5kIFBhbGV0dGUgKEN0cmwtUCkuIFRoZSBjb21tYW5kIGNhbiBhbHNvIGJlIGJvdW5kIHRvIGEga2V5Ym9hcmQgc2hvcnRjdXQgaWYgeW91IHdpc2guJ30pO1x0XHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnRXhwZXJpbWVudGFsIHNldHRpbmdzIHRoYXQgZG9uXFwndCBhbHdheXMgd29yayBhcyB3ZWxsIGFzIHlvdSBtaWdodCBsaWtlIGFyZSBtYXJrZWQgd2l0aCBhIFwi4pqg77iPXCIuIFRoZXkgYXJlIHNhZmUgdG8gdXNlIGJ1dCBjYW4gYmVoYXZlIGluIGFubm95aW5nIHdheXMuJ30pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnUHJpdmFjeSBHbGFzc2VzIEFjdGl2YXRlZCcpXHJcblx0XHRcdC5zZXREZXNjKCdJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBsdWdpbiBpcyBjdXJyZW50bHkgYWN0aXZhdGVkLicpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5wcml2YWN5R2xhc3Nlcyk7XHJcblx0XHRcdFx0dG9nZ2xlLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udG9nZ2xlR2xhc3NlcygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR2YXIgc2xpZGVyRWwgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCk7XHJcblx0XHRsZXQgc2xpZGVyRWxEZXNjID0gJ0hpZ2hlciBpcyBibHVycmllci4gRGVmYXVsdD02MCwgY3VycmVudD0nO1xyXG5cdFx0c2xpZGVyRWwgXHJcblx0XHRcdC5zZXROYW1lKCdCbHVyIExldmVsIChvbmx5IGFmZmVjdHMgZWxlbWVudHMgZm9yIHdoaWNoIFwiQmx1cnJ5IFRleHRcIiBpcyBzZWxlY3RlZCBiZWxvdyknKVxyXG5cdFx0XHQuc2V0RGVzYyhzbGlkZXJFbERlc2MgKyBNYXRoLnJvdW5kKHRoaXMucGx1Z2luLnNldHRpbmdzLmJsdXJMZXZlbCoxMDApKSBcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gXiBuZWVkIHJvdW5kaW5nIHRvIG5vdCBzaG93IHZhbHVlcyBsaWtlICc1NS4wMDAwMDAwMDAwMDAwMSdcclxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXHJcblx0XHRcdFx0LnNldExpbWl0cygwLjEsIDEuNSwgMC4wNSlcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmx1ckxldmVsKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJsdXJMZXZlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0c2xpZGVyRWwuc2V0RGVzYyhzbGlkZXJFbERlc2MgKyBNYXRoLnJvdW5kKHRoaXMucGx1Z2luLnNldHRpbmdzLmJsdXJMZXZlbCoxMDApKTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnJlZnJlc2godHJ1ZSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ09iZnVzY2F0aW9uIG1ldGhvZCBmb3IgRWRpdCBNb2RlJylcclxuXHRcdFx0LnNldERlc2MoJ0hvdyB0byBvYmZ1c2NhdGUgdGhlIGRvY3VtZW50XFwncyB0ZXh0IGluIEVkaXQgTW9kZScpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJycsJ1tPZmZdJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdibHVyRWRpdCcsJ0JsdXJyeSBUZXh0JylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdibG9ja0VkaXQnLCdTb2xpZCBCbG9ja3MnKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2NpcmNsZXNFZGl0JywnQ2lyY2xlcyDimqDvuI8nKVxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lZGl0Qmx1ck1ldGhvZClcclxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmVkaXRCbHVyTWV0aG9kID0gdmFsdWU7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ucmVmcmVzaCh0cnVlKTtcclxuXHRcdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0LnNldE5hbWUoJ09iZnVzY2F0aW9uIG1ldGhvZCBmb3IgUHJldmlldyBNb2RlJylcclxuXHRcdC5zZXREZXNjKCdIb3cgdG8gb2JmdXNjYXRlIHRoZSBkb2N1bWVudFxcJ3MgdGV4dCBpbiBQcmV2aWV3IE1vZGUnKVxyXG5cdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdC5hZGRPcHRpb24oJycsJ1tPZmZdJylcclxuXHRcdFx0LmFkZE9wdGlvbignYmx1clByZXZpZXcnLCdCbHVycnkgVGV4dCcpXHJcblx0XHRcdC5hZGRPcHRpb24oJ2Jsb2NrUHJldmlldycsJ1NvbGlkIEJsb2NrcyDimqDvuI8nKVxyXG5cdFx0XHQuYWRkT3B0aW9uKCdjaXJjbGVzUHJldmlldycsJ0NpcmNsZXMg4pqg77iPJylcclxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByZXZpZXdCbHVyTWV0aG9kKVxyXG5cdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcmV2aWV3Qmx1ck1ldGhvZCA9IHZhbHVlO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5yZWZyZXNoKHRydWUpO1xyXG5cdFx0fSkpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnT2JmdXNjYXRpb24gbWV0aG9kIGZvciBTaWRlYmFycycpXHJcblx0XHRcdC5zZXREZXNjKCdIb3cgdG8gb2JmdXNjYXRlIHlvdXIgZmlsZSBsaXN0LCB0YWdzLCBvdXRsaW5lLCBldGMgaW4gT2JzaWRpYW5cXCdzIHNpZGViYXJzJylcclxuXHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcblx0XHRcdFx0LmFkZE9wdGlvbignJywnW09mZl0nKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2JsdXJVSScsJ0JsdXJyeSBUZXh0JylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdibG9ja1VJJywnU29saWQgQmxvY2tzJylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdjaXJjbGVzVUknLCdDaXJjbGVzJylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudWlCbHVyTWV0aG9kKVxyXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudWlCbHVyTWV0aG9kID0gdmFsdWU7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4ucmVmcmVzaCh0cnVlKTtcclxuXHRcdH0pKTsgIFxyXG5cdH1cclxuICB9XHJcblxyXG5jb25zdCBwcml2YWN5R2xhc3Nlc0ljb24gPSBgPHBhdGggc3R5bGU9XCIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpjdXJyZW50Q29sb3I7ZmlsbC1vcGFjaXR5OjE7XCIgZD1cIk0gMTguMjQyMTg4IDcuNjY0MDYyIEMgMTUuNDI5Njg4IDcuODQzNzUgMTIuMDE1NjI1IDguNDA2MjUgNi45MTQwNjIgOS41MzEyNSBDIDYuMTQwNjI1IDkuNzAzMTI1IDQuMzI4MTI1IDEwLjA3MDMxMiAyLjg5MDYyNSAxMC4zNTkzNzUgQyAxLjQ1MzEyNSAxMC42NDg0MzggMC4yMzQzNzUgMTAuODkwNjI1IDAuMTg3NSAxMC45MDYyNSBDIDAuMDcwMzEyNSAxMC45Mjk2ODggLTAuMDM5MDYyNSAxMy41NTQ2ODggMC4wMjM0Mzc1IDE0LjU3MDMxMiBDIDAuMTI1IDE2LjEzMjgxMiAwLjM3NSAxNi43MDMxMjUgMS41IDE3Ljk5MjE4OCBDIDMuNDE0MDYyIDIwLjE4NzUgMy43MjY1NjIgMjAuNzEwOTM4IDQuMTcxODc1IDIyLjUzOTA2MiBDIDUuMTcxODc1IDI2LjYwOTM3NSA2Ljc1NzgxMiAzMS4yMjY1NjIgOC40Mjk2ODggMzQuOTE0MDYyIEMgOS40Njg3NSAzNy4yMTg3NSAxMC44NTkzNzUgMzguNjI1IDEzLjM5ODQzOCAzOS45Mjk2ODggQyAxNy43MjY1NjIgNDIuMTY0MDYyIDIzLjM4MjgxMiA0Mi44OTg0MzggMjkuNDUzMTI1IDQyLjAzMTI1IEMgMzMuMTY0MDYyIDQxLjQ5MjE4OCAzNi4xNzk2ODggMzkuOTM3NSAzOC44NjcxODggMzcuMTc5Njg4IEMgNDAuNzgxMjUgMzUuMjEwOTM4IDQyLjMwNDY4OCAzMi45NzY1NjIgNDMuOTQ1MzEyIDI5LjcyNjU2MiBDIDQ0Ljc4MTI1IDI4LjA3ODEyNSA0NS4wMzEyNSAyNy40MDYyNSA0NS42NjQwNjIgMjUuMDM5MDYyIEMgNDYuMTc5Njg4IDIzLjEyNSA0Ni40NDUzMTIgMjIuMzM1OTM4IDQ2LjkyMTg3NSAyMS4zNjcxODggQyA0Ny41OTM3NSAxOS45Njg3NSA0OCAxOS42Nzk2ODggNDkuMzM1OTM4IDE5LjYyNSBDIDQ5Ljc2NTYyNSAxOS42MDkzNzUgNTAuNTkzNzUgMTkuNjMyODEyIDUxLjE3MTg3NSAxOS42NzE4NzUgQyA1Mi40Mjk2ODggMTkuNzU3ODEyIDUyLjY2NDA2MiAxOS44NTE1NjIgNTMuMjg5MDYyIDIwLjUyMzQzOCBDIDU0LjEwOTM3NSAyMS40MTQwNjIgNTQuNjI1IDIyLjQ5MjE4OCA1NS4zMDQ2ODggMjQuNzUgQyA1Ni45ODQzNzUgMzAuMzQzNzUgNTkuMDkzNzUgMzQuMjE4NzUgNjEuOTYwOTM4IDM2Ljk5MjE4OCBDIDYzLjMyMDMxMiAzOC4zMDQ2ODggNjQuMzgyODEyIDM5LjA2MjUgNjYuMDA3ODEyIDM5Ljg3NSBDIDY5LjE3OTY4OCA0MS40Njg3NSA3Mi42Nzk2ODggNDIuMjY1NjI1IDc2LjUyMzQzOCA0Mi4yNjU2MjUgQyA4My42MzI4MTIgNDIuMjY1NjI1IDg5LjQ4NDM3NSAzOS4zMjAzMTIgOTIuNDY4NzUgMzQuMjQyMTg4IEMgOTMuNTMxMjUgMzIuNDQ1MzEyIDk0LjA5Mzc1IDMwLjg1MTU2MiA5NS4yMzQzNzUgMjYuNDA2MjUgQyA5Ni41NzAzMTIgMjEuMjAzMTI1IDk2LjkwNjI1IDIwLjIwMzEyNSA5Ny43MzQzNzUgMTguOTg0Mzc1IEMgOTguMDg1OTM4IDE4LjQ2ODc1IDk4LjcxODc1IDE3Ljg2NzE4OCA5OS4yNzM0MzggMTcuNTE1NjI1IEMgOTkuOTYwOTM4IDE3LjA3ODEyNSA5OS45NjA5MzggMTcuMDg1OTM4IDk5Ljk0NTMxMiAxNC4yMTg3NSBDIDk5Ljk0NTMxMiAxMy41NTQ2ODggOTkuOTQ1MzEyIDEyLjc0MjE4OCA5OS45NTMxMjUgMTIuNDIxODc1IEMgOTkuOTY4NzUgMTEuMzQzNzUgOTkuNjA5Mzc1IDExLjAzOTA2MiA5Ny45NDUzMTIgMTAuNzM0Mzc1IEMgOTYuNjA5Mzc1IDEwLjQ4NDM3NSA5NS42Nzk2ODggMTAuMjY1NjI1IDkzLjQ3NjU2MiA5LjY1NjI1IEMgOTAuOTIxODc1IDguOTQ1MzEyIDkwLjUxNTYyNSA4Ljg1MTU2MiA4OC4zNjcxODggOC41MTU2MjUgQyA4My4wMzEyNSA3LjY3MTg3NSA4MS42MjUgNy41MzkwNjIgNzguNzU3ODEyIDcuNjAxNTYyIEMgNzQuOTQ1MzEyIDcuNjg3NSA3Mi4zMDQ2ODggOC4wNjI1IDY0LjQ5MjE4OCA5LjYwOTM3NSBDIDU5LjIxODc1IDEwLjY1NjI1IDU3LjAzMTI1IDExLjAyMzQzOCA1NC41MDc4MTIgMTEuMjg5MDYyIEMgNTIuNTcwMzEyIDExLjQ5MjE4OCA1MC4xNzk2ODggMTEuNTcwMzEyIDQ4LjQ2ODc1IDExLjQ4NDM3NSBDIDQ1LjQwNjI1IDExLjMzNTkzOCA0My45MTQwNjIgMTEuMTA5Mzc1IDM5LjI1NzgxMiAxMC4wNzgxMjUgQyAzNC45NjA5MzggOS4xMjUgMzQuMDkzNzUgOC45NjA5MzggMzEuMjAzMTI1IDguNTU0Njg4IEMgMjUuMDYyNSA3LjcwMzEyNSAyMS41MjM0MzggNy40NjA5MzggMTguMjQyMTg4IDcuNjY0MDYyIFogTSAxOC4yNDIxODggNy42NjQwNjIgXCIvPmAiXSwibmFtZXMiOlsiUGx1Z2luIiwiYWRkSWNvbiIsIk5vdGljZSIsIlBsdWdpblNldHRpbmdUYWIiLCJTZXR0aW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdURBO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUNuRyxRQUFRLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUN0RyxRQUFRLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEdB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
