#Session #Cookie #Web #Todo 


# 背景
- 最开始，Web 页面*只是文档浏览*， 服务器不需要记录某个用户一段时间的浏览记录；
- *每次请求都是一个新的 HTTP 协议*， 不用记住谁发了 HTTP 请求。
- 之后交互式 Web 应用兴起，*Web 页面软件化*，如在线购物网站，必须记住哪些人可以登录系统， 哪些人在购物车中放了什么商品， 必须把每个人区分开。
- 此时，在程序中，*会话跟踪*很重要。
- **一个用户的所有请求操作都应该属于同一个会话**，另一个用户的所有请求应该属于另一个会话，不能混淆。

## 问题
- Web 应用程序使用 HTTP 协议传输数据。
- HTTP协议是*无状态*的协议：
	- 一旦数据交换完毕，客户端与服务器端的连接就会关闭；
	- 再次交换数据需要建立新的连接。
	- 服务器*无法从连接上跟踪会话*。
- 为了解决会话追踪问题，出现了：
	- cookie 技术（客户端存储）；
	- session 技术（服务端存储）。


# cookie
## 历史
- Cookie意为“甜饼”，是**由W3C组织提出**，最早由 Netscape 社区发展出的一种机制。
- 目前Cookie已经成为 Web 标准的一部分。

## 原理
- 给每个客户端颁发一个通行证；
- 客户端访问都必须携带自己通行证；
- 服务器就能从通行证上确认客户身份。


## 实现
- 客户端请求服务器，如果*服务器需要记录该用户状态*，就*在 response 中向客户端浏览器颁发一个Cookie*。
- 客户端浏览器会把 Cookie 保存起来。
- 当浏览器再请求该网站时，浏览器把请求的网址连同 Cookie 一同提交给服务器。
- 服务器检查该Cookie，校验用户状态。



# session
## 原理
- Session机制就是通过检查服务器上的“客户明细表”来确认客户身份。
- Session相当于程序在服务器上建立的一份客户档案，客户来访的时候只需要查询客户档案表就可以了。


# 参考
1. [JavaWeb学习总结(十二)——Session](https://www.cnblogs.com/xdp-gacl/p/3855702.html)
2. [Session、Cookie、Token](https://cloud.tencent.com/developer/article/1704064)
3. [cookie和session的详解与区别](https://www.cnblogs.com/l199616j/p/11195667.html)