#SICP #Abstraction-with-Data 

有理数的例子中
- 所有有理数操作，都是基于构造器 `make-rat` 和选择器 `numer`、`denom定义`。
- 蕴含了 data abstraction 的潜在思想：[[2.1.1 数据抽象导引#^cbe458|数据抽象基本思想]]

# Abstraction Barriers
- 下图形象化地表示了有理数系统的结构：![[有理数中的数据抽象屏障.png]]

> - 水平线表示**抽象屏障(abstraction barriers)**，*隔离了系统中不同的层次*。
> - 在每一层中，抽象屏障把**使用数据抽象的程序（上一层）与实现数据抽象的程序（下一层）分开**。

- 使用有理数的程序（最上面）仅通过有理数 package 中可 “*公开使用(for public use)*” 的 procedure（`add-rat`、`mul-rat`、`div-rat`和 `equal-rat?`）完成对有理数的各种操作；
	- `add-rat` 等是基于构造器 `make-rat` 和 选择器 `numer`和 `denom` 实现的；
	- 构造器和选择器又是基于序对 `pairs` 实现的。只要 `pairs` 可通过 `cons`、`car` 、 `cdr` 操作，`pairs`如何实现与上层没有关系。
	- 每一层次中的 procedure(`cons`/`make-rat`/`add-rat`等) 构成了每层中抽象屏障( abstraction barriers )的接口 interface，将系统中的不同层次联系在一起。

## Advantage
- abstraction barriers 使程序很容易维护和修改；
- 