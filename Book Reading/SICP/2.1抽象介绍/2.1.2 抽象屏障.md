#SICP #Abstraction-with-Data 

有理数的例子中
- 所有有理数操作，都是基于构造器 `make-rat` 和选择器 `numer`、`denom定义`。
- 蕴含了 data abstraction 的潜在思想：[[2.1.1 数据抽象导引#^cbe458]]

# Abstraction Barriers
- 下图形象化地表示了有理数系统的结构：
![[有理数实现抽象屏障结构.png]]

> - 水平线表示**抽象屏障(abstraction barriers)**，它们隔离了系统中不同的层次。
> - 在每一层中，抽象屏障都把**使用数据抽象的程序（上一层）与实现数据抽象的程序（下一层）分开**。

- 使用有理数的程序（最上面）仅通过有理数 package 中可 “*公开使用(for public use)*” 的 procedure（`add-rat`、`mul-rat`、`div-rat`和 `equal-rat?`）完成对有理数的各种操作；
	- `add-rat` 等又基于构造器 `make-rat` 和 选择器 `numer`和 `denom` 实现的；
	- 而这些函数又是基于序对实现的。只要序对可以通过cons、car和cdr操作，有关序对如何实现的细节与有理数包的其余部分都完全没有关系。从作用上看，每一层次中的过程构成了所定义的抽象屏障的界面，联系起系统中的不同层次