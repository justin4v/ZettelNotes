The Class Diagram 不仅描述了类，而且说明了类之间的关系

## 类图图例
包含：
 1. The name of the class
2. The data members of the class
3. The methods (functions) of the class

![[类图示例.png]]

# 访问权限
控制数据成员和方法成员的可访问性
1. **public**—— **+** 标记
2.  **protected**——**#** 标记
3.  **private**——**−**标记
4.  **default**——**~** 标记，默认，java中为 package 访问域


# 关系类型
1.  *类级别（class-level）* ：一个类是一种另一个类时：**is-a** 关系，**Generalization**。
2.  *实例级别（instance-level）*：
	1.   一个类*使用*另一个类的实例：*use-a* 关系，**Dependency**，*箭头指向被使用者*；
	2.  一个类与另一个类关联。**Association**，调用和访问另外一方的元素，*箭头指向被关联者*。
	3.  一个类*包含*另一个类的实例：*has-a* 关系，**Composition** 或 **Aggregation**，*箭头指向部件*；

![[类图含义示意.png]]

包含关系 has-a 还有两种类型：
1. *被包含者是包含者的一部分*（比如汽车中的发动机），称为**组合（composition）**。
2. *有一个集合，集合中东西可以独立存在*（比如机场上的飞机），称为**聚合（aggregation）**。

## 依赖 Dependency
- 依赖（Dependency）关系是一种*偶然的、较弱的使用关系*，特定事物的改变可能影响到使用该事情的其它事物。
- 如 A 使用 B，有如下几种情况：
	-   B 类的实例作为 A 类**方法的参数**
	-   B 类的实例作为 A 类方法的**局部变量**
	-   A 类调用 B 类的**静态方法**
- UML 中使用**带箭头的虚线**表示类间的依赖（Dependency）关系，箭头由依赖类*指向被依赖类*。
## 关联 Association
- 关联（Association）关系是一种结构化关系，用于表示*一个类实例与另一类实例之间的联系*。
- 在 Java 中实现关联关系时，通常将一个类的实例作为另一个类的**成员变量**。
- 在 UML 类图中，用**实线连接有关联关系的类**
	- 可带有箭头，指向被关联类；
	- 并可在关联线上标注角色名或关系名。

## 聚合 Aggregation
- 聚合（Aggregation）关系表示*整体与部分*的关系。
- 在聚合关系中，**部分对象是整体对象的一部分**，但是部分对象可以脱离整体对象独立存在，也即整体对象并不控制部分对象的生命周期。
- 部分对象不由整体对象创建，一般通过整体类的*带参构造方法或者 Setter 方法或其它业务方法传入到整体对象*，并且有整体对象以外的对象持有部分对象的引用。
- UML类图中，聚合关系由**带箭头的实线**表示，实线的**起点处（整体）以空心菱形**表示

## 组合 Composition
- 组合（Composition）关系也表示类之间整体和部分的关系。
- 但是在组合关系中*整体对象控制成员对象的生命周期*，一旦整体对象不存在了，成员对象也即随之消亡。
- 一般在**整体类的构造方法中直接实例化成员类**，并且除整体类对象外，其它类的对象无法获取该对象的引用。
- UML类图中，组合关系的表示方式与聚合关系类似，区别在于**起点以实心菱形**表示

## 泛化 Generalization
- 泛化（Generalization）关系，用于描述**父类与子类之间的关系**;
- 父类又称作超类，子类又称为派生类。注意，*父类和子类都可为抽象类或者具体类*。
- UML类图中，泛化关系用**带空心三角形（指向父类）的实线**表示。
- 子类中不需要标明其从父类继承下来的属性和方法，*只须注明新增的属性和方法*即可。

## 实现 Realization
- 实现（Realization）是接口与类之间的关系。
- 类实现了接口中的方法
- UML 类图中，类与接口间的实现关系用**带空心三角形的虚线表示（指向父类）**。
- 类中也需要列出接口中所声明的所有方法

# 数量
对于组合和聚集来说，更加关注该类型的具体对象的数量。
比如，Airport 对象拥有 Aircraft 对象，于是问题出现了——“一个机场可以拥有多少架飞机呢？“。如下图：
![[数量关系图示.png]]

1.**0..\* 或者 0..n** 表示：一个 Airport 对象，它可以拥有从0 到任意数量的Aircraft 对象
2.**0..1** 表示：一个 Aircraft 对象，它可以被 0 个或 1 个 Airport 对象包含（0 表示不属于任何机场，比如正在空中飞行）

# 比较
## Association vs. Aggregation vs. Composition  
1. 聚合关系、组合关系和关联关系实质上**是实例间的关系**；继承和实现**是类与类之间的关系**。
2. *关联关系中两种对象间一般是平等*的，而聚合和组合则代表*整体和部分间的关系*。
3. 聚合与组合的区别主要体现在*实现和生命周期的管理*上。


## Dependency vs. Association
1. 依赖关系是*较弱*的关系，一般表现为：
	1. 在*局部变量*中使用被依赖类的对象、
	2. 以被依赖类的对象作为*方法参数*
	3. *使用被依赖类的静态方法*。
2. 关联关系是相对较强的关系，一般表现为*一个类包含一个类型为另外一个类的属性*。