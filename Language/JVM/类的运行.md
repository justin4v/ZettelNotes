## 过程
**KEYS**
- 装载
- 连接
- 初始化

### 装载

1.    通过类型的完全限定名，产生一个代表该类型的二进制数据流；
2.     解析这个二进制数据流为方法区内的内部数据结构；
3.     创建一个表示该类型的java.lang.Class类的实例。


### 连接
1. 验证，确认类型符合Java语言的语义，检查各个类之间的二进制兼容性(比如final的类不用拥有子类等)，另外还需要进行符号引用的验证。
2. 准备，Java虚拟机为类变量分配内存，设置默认初始值。
3. 解析(可选的) ，在类型的常量池中寻找类，接口，字段和方法的符号引用，把这些符号引用替换成直接引用的过程。


### 初始化

当一个类被主动使用时，Java虚拟就会对其初始化，如下六种情况为**主动使用**：

1.  **创建类的新实例**（如通过new或者反射，克隆，反序列化等）；
2.  **调用类的静态方法**；
3.  **使用类或接口的静态字段**；
4.  **调用Java API中的某些反射方法**时，比如类Class中的方法，或者java.lang.reflect中的类的方法时；
5.  **初始化子类时**；
6.  虚拟机启动被标明为**启动类**的类（即包含main方法的那个类）。

Java编译器会收集所有的类变量初始化语句和类型的静态初始化器，将这些放到一个特殊的方法中：**clinit**。