#Proxy 
# 需求
现有类：
```java
// 接口
interface IHello{
    String sayHello(String str);
}
// 实现
class HelloImp implements IHello{
    @Override
    public String sayHello(String str) {
        return "HelloImp: " + str;
    }
}
```

- *动态（运行时）的为 HelloImp Class 增减功能*；
- 但Java 规范*不允许运行时修改 .class 文件*（python，ruby等动态语言可以）。

## 解决
运行时**生成新的类**：
1. *实现接口（JDK 动态代理）*；
2. *继承类（CGLib 动态代理）*；


# 静态代理
新增一个 `IHello` 的实现类，
```java
// 静态代理方式
class StaticProxiedHello implements IHello{
    ...
    private Hello hello = new HelloImp();
    @Override
    public String sayHello(String str) {
        logger.info("You said: " + str);
        return hello.sayHello(str);
    }
}
```



# 参考
1. [[Proxy|代理模式]]