尽管JMM实现起来相当复杂，而且底层的重新排序问题也常常会令人感到难以理解，不过， 得益于 JMM 对于对于线程与内存模型的交互行为的明确定义，只要我们的程序做到了正确同步，在正确支持了JMM的虚拟机实现上运行，就将是线程安全的。那么什么是正确同步呢？

# 数据竞争(Data Race)和正确同步(Correctly Synchronized)
## Data Race
1. 对于同一变量的两个并行的访问中，如果*至少有一个是写入操作*，称为 **Access Conflict** ([[相关概念#冲突访问]])。
2. 冲突访问的两个操作之间，如果没有明确的 HB 顺序定义，在 JMM 定义下的虚拟机中执行时就可能有任意的顺序，甚至是同时进行，带来不确定的结果，这就是数据竞争--Data Race ([[相关概念#Data Race]])。

## Correctly Synchronized
在JMM当中对正确同步的定义是这样的: 
“**A program is correctly synchronized if and only if all sequentially consistent executions are free of data races**”，一个程序如果在它的所有的串行一致的执行当中都不存在数据竞争就是正确同步。

If a program is not correctly synchronized, then three types of problems can appear: **visibility, ordering and atomicity.**