#Java基础 #JVM #Multi-threads #Thread-safe #TLAB  #Problem-and-Solutions 

# 线程
- 从代码角度看，线程的本质是函数的运行，stack 是每个线程（函数）独有的。
- JVM 中线程间共享 [[JVM内存结构#Heap|Heap]] 和 [[JVM内存结构#Method Area|Method Area]]；

## Heap 的常见结论
>1、堆是线程共享的内存区域，栈是线程独享的内存区域。
>2、堆中主要存放对象实例，栈中主要存放各种基本数据类型、对象的引用。
- 以上结论**并不是完全正确**的。


## Java对象的内存分配过程是如何保证线程安全的？
- 对象在创建过程中，都需要进行内存分配。
- 对象的内存分配过程中，主要是对象的引用指向这个内存区域，然后进行初始化操作.
- 堆是全局共享的，同一时间，可能有多个线程在堆上申请空间，在并发场景中，可能存在两个线程先后把对象引用指向了同一个内存区域。



# 参考
1. [[JVM内存结构]]
2. [[JVM变量存储]]
3. [[2.线程]]
4. [[3.线程模型]]
5. [[1.进程]]
6. [Java堆内存是线程共享的！面试官：你确定吗？](https://www.cnblogs.com/hollischuang/p/12453988.html)