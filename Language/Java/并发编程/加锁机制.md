# 背景
- 加锁机制是实现线程安全的一种机制；
- 加锁机制主要用于保证多个操作的原子性。


# 内置锁
Java提供内置的锁机制支持原子性：**同步代码块（Synchronized Block）**。
Java对象自带一个*内置锁（Intrinsic Lock）* 也称作*监视器锁（Monitor Lock）*，加锁和解锁是 JVM 控制的。线程进入同步代码块之前需要获得锁，离开后自动释放锁。

# 重入
重入（*Reentrancy*）是指**一个线程可以再次获取已经获取到的锁**。

## 实现策略
1. 为每个锁关联一个获取计数器和所有者记录；
2. 计数器为0时，认为锁没有被线程持有