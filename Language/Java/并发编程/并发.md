# 概念
## 并发和并行
- **并发**是指*在一个时间段内处理多个任务*，但多个任务不一定要在同一时刻执行；
- **并行**是指*在同一个时刻处理多个任务*。

## 竞态条件和临界区
1. 竞态条件（race condition）：当两个线程（进程）*竞争程序中同一资源*时，如果*对资源的访问顺序影响运行结果*，就称程序存在竞态条件。
2. 临界区（critical sections）：导致竞态条件发生的*代码区*称作临界区。

参考：
- [[线程安全#竞态条件]]

# 并发的优点
1. **提升资源利用率**；
2. **程序响应更快**。

## DES
在处理需要耗时较长的任务时，CPU通常需要等待。可以切换到不同线程执行其他任务，使得 CPU 始终处于工作状态，可以*提升 CPU 利用率*。

如果服务器在监听的时候，请求才能被接收，当服务器忙于处理一个耗时很长的请求，则无法响应其他客户端。
如果监听线程把请求传递给*工作者线程(worker thread)*，然后返回去监听新请求，则能*响应新请求更快*。


# 并发的问题
[[程序性能的限制与解决]]中引入了几种提高性能的策略，同时也带来了并发中的几种问题：
- [[线程安全]] *Safety hazards*
- [[活跃性问题]] *Liveness hazards*
- [[性能问题]] *Performance hazards*

