#Todo #MESI #Cache #Cache-coherency

# cache

- 高速缓存（cache）是一种存取速率远比主内存大而容量远比主内存小的存储部件，每个处理器都有其高速缓存。
- 引入 cache 之后， 处理器在执行内存读、 写操作的时候并*不直接与主内存打交道*， 而是通过高速缓存进行的。
- cache 的内部结构相当于一个*拉链散列表(ChainedHash Table)*：
	- 包含若干*桶(Bucket, 硬件上称为Set)*,；
	- 每个桶又可以包含若干*缓存条目(CacheEntry)* .
![[cache的内部结构.png]]

## CacheEntry
 - 缓存条目可被进一步划分为Tag、Data Block以及Flag；
 - *Data Block* 也被称为**缓存行(CacheLine)** ：
	 - 高速缓存与主内存之间的数据交换最小单元；
	 - 用于存储从内存中读取的或者准备写往内存的数据。 
 - *Tag* 则包含了缓存行中数据相应的内存地址的部分信息（内存地址的高位部分比特）。
 - Flag用于表示相应缓存行的状态信息。 缓存行的容量（也被称为缓存行宽度）通常是2的倍数， 其大小在16-256 字节(Byte)之间不等。一个缓存行可以存储若干变量的值， 而多个变量的值则可能被存储在同一个缓存行之中。




# 参考
1. [深入学习缓存一致性问题和缓存一致性协议MESI(一)](https://www.cnblogs.com/dongc/p/12271042.html)
2. [[CPU 缓存]]