#Todo 

# WT 和 WB
- *直写 WT(Write Through)* 与*回写 WB(Write Back)* 指的是*缓存的工作方式*；

## WT
- 当 CPU 要将数据写入内存时：
1. *更新缓存的数据*；
2. 同时将数据写入主存以*维持主存与缓冲内存的一致性*；
3. 当写入内存的数据很多时，速度较慢.  

## WB
- 当 CPU 要将数据写入内存时：
1. *只会先更新缓存数据*；
2. 随后再让缓存在总线不阻塞的时候才把数据*写回主存*；
3. 速度较快。

# 白皮书规定 
在回写式规定中，高速缓存将充当缓冲区。处理器开始写入循环时，高速缓存将接收数据并停止循环。当系统总线可用时，高速缓存再将数据写回主内存

在直写式规定中，处理器会直接将高速缓存中的数据写入主内存。直至将数据存储至主内存，写入循环才能完成。  

# 优劣分析
两种方式各有利弊，直写缓存方法利用了高速缓存中的数据始终与主存储器中数据匹配的特点。但是，需要的总线周期却非常耗时，从而降低性能。回写缓存可以维持性能，因为写入始终是在“爆发”中进行的，因而运行所需的总线周期将大大减少。

两个CPU，或者CPU与DMA同时共享一块物理内存时，writer在写完后，要write back，这样另一个reader才能看到它写入的数据；在writer变为reader的时候，需要invalidate，否则看不到另一个 writer写入的数据。所以在共享的时候，需要同时做writeback和invalidate。

# 参考
1. [CACHE 写透式与回写式](http://blog.chinaunix.net/uid-12461657-id-3198510.html)