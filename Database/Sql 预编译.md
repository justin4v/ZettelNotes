# 概念
一条 sql 在db接收到最终执行完毕返回可以分为下面三个过程：

1.  词法和语义解析
2.  优化sql语句，制定执行计划
3.  执行并返回结果

如果一条sql语句可能会反复执行，或者每次执行的时候只有个别的值不同，每次都需要经过上面的词法语义解析、语句优化、制定执行计划等，则效率就明显不行了。

*预编译语句就是将灵活的参数值用占位符 `"?"` 替代，将 sql 语句模板化、参数化*。
一般称这类语句叫 *Prepared Statements* 或者
 *Parameterized Statements*  。

# 特点
预编译语句的优势在于：
- 一次编译；
- 多次运行；
- 跳过了解析、优化等过程。

此外预编译语句能防止sql注入

# mybatis 预编译
mybatis 默认情况下，将对所有的 sql 进行预编译。

mybatis 底层使用 PreparedStatement 实现预编译
1. 将带有占位符（即”?”）的 sql 模板发送至 mysql 服务器 ;
2. 服务器对此无参数的 sql 进行编译后 ;
3. 服务器缓存编译结果 ;
4. 然后直接执行带有真实参数的 sql （传入参数）。

