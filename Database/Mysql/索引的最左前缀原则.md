#Mysql #Index #Leftmost-prefix

# 介绍
- MySQL可以创建联合索引(即, 多列的索引). 一个索引可以包含最多16列. 
- 某些数据类型, 可以索引列的前缀(如Blob和Text类型, 索引前几位就可以, 如 INDEX(blob_col(10))
- 如果创建一个联合索引, 包含索引最左前缀（leftmost prefix的查询都会被 优化器(optimizer ) 用索引优化：
	- 如联合索引 (col1, col2, col3) 的所有最左前缀有：(col1), (col1, col2), (col1, col2, col3)；
	- 包含这些列的查询都会启用索引查询.  
- 其他所有不在最左前缀里的列都不会启用索引, 即使包含了联合索引里的部分列 也不行. 即上述中的(col2), (col3), (col2, col3) 都不会启用索引去查询.  
- **(col1, col3)会启用(col1)的索引查询**
- 如果一个联合索引存在于col1和col2, 相应的列会被直接抓取. 如果是分为单独的索引 分别存在于col1和col2, 优化器会尝试利用索引联合优化(详见8.2.1.3, ["索引联合 优化"](https://link.juejin.cn?target=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.0%2Fen%2Findex-merge-optimization.html "https://dev.mysql.com/doc/refman/8.0/en/index-merge-optimization.html")), 或者尝试去寻找包含最多列, 最大限制的索引, 并利用该索引去抓取列.
  


# 参考
1. [MySQL :: MySQL 8.0 Reference Manual :: 8.3.6 Multiple-Column Indexes](https://dev.mysql.com/doc/refman/8.0/en/multiple-column-indexes.html)