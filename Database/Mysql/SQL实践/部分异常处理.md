#Mysql #Problem-and-Solutions 


# 锁超时
```java
java.sql.SQLTransaientConnectionException: Lock wait timeout exceeded;
...
SQL： DELETE FROM xxx WHERE 1=1 AND BOOK_ID IN (?,?,?,?)
```

## 原因
- **`BOOK_ID` 没有建立索引**；
- sql 执行时**锁了整张表**；
- 多线程执行时，其他线程等待时间超时。






# 参考
1. [MySql Lock wait timeout exceeded该如何处理？](https://ningyu1.github.io/site/post/75-mysql-lock-wait-timeout-exceeded/)