#Database #Mybatis 

# 乐观锁原理

-   查询记录时，（getById()）获取当前 version 值（oldVersion）；
-   updateById 更新时，set version = newVersion where version = oldVersion；
-   如果 version 不对，就更新失败，可加入重试机制。

# 参考
1. [乐观锁插件 | MyBatis-Plus](https://baomidou.com/pages/0d93c0/#optimisticlockerinnerinterceptor)