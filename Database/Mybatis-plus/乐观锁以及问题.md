#Database #Mybatis 

# 乐观锁原理

-   查询记录时，（getById()）获取当前 version 值（oldVersion）
-   更新时，set version = newVersion where version = oldVersion
-   执行更新时， 
-   如果 version 不对，就更新失败

# 参考
1. [乐观锁插件 | MyBatis-Plus](https://baomidou.com/pages/0d93c0/#optimisticlockerinnerinterceptor)