#Trace #Logback #Todo 


# 背景
- 查看多线程服务日志时，当服务被调过于频繁，日志刷新太快，会影响到联调、测试、线上问题的排查效率；
- 能不能为每一个请求的日志打一个唯一标识？

# MDC
- **Mapped Diagnostic Context**，*映射诊断上下文*。
- MDC 是 `log4j` 和 `logback` 提供的一种可在多线程环境下，记录诊断日志的功能。
- MDC 可以看成是一个与当前线程绑定的哈希表，可以往其中添加键值对。

## 使用方法
​ 向MDC设置值：MDC.put(key, value);
​ 从MDC中取值：MDC.get(key);
​ 将MDC中的内容打印到日志中：%X{key};


# 参考
1. [SpringBoot项目traceId生成/日志打印](https://blog.csdn.net/psy1286479613/article/details/121368058)
2. [Chapter 8: Mapped Diagnostic Context (qos.ch)](https://logback.qos.ch/manual/mdc.html)